$(function() {
  $('input[type=file]').change(function(){
      var file = this.files[0];
      var labelText = 'File : ' + file.name;

      $(this).prev('label').text(labelText);

      // Image preview logic
      if (file && file.type.startsWith('image/')) {
          var reader = new FileReader();
          reader.onload = function(e) {
              $('#preview').attr('src', e.target.result);
              $('#image-preview').show();
          };
          reader.readAsDataURL(file);
      } else {
          $('#image-preview').hide();
      }
  });
});
